<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hydraulic Cylinder Calculator — v1.3.4</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- ===== LOGIN OVERLAY ===== -->
  <div id="overlay" class="overlay">
    <div class="modal login-modal">
      <h2>Enter Password</h2>
      <div class="password-row">
        <input id="pwdInput" type="password" placeholder="Enter password">
        <button id="loginBtn">Unlock</button>
      </div>
      <div class="ver">Version: v1.3.4</div>
    </div>
  </div>

  <!-- ===== MAIN APPLICATION ===== -->
  <header class="topbar">
    <div class="brand">Hydraulic Cylinder Calculator</div>
    <div class="top-actions">
      <button id="findBtn" class="btn">Find Cylinder Size</button>
      <button id="exportBtn" class="btn">Export</button>
      <button id="resetBtn" class="btn outline">Reset</button>
    </div>
  </header>

  <main id="app" class="container">
    <h1>Hydraulic Cylinder Calculator</h1>

    <!-- Main Cylinder Calculation UI -->
    <section id="calcSection">
      <!-- Your bore/rod calculation cards, inputs, and results stay here -->
      <!-- These are unchanged from your previous working version -->
    </section>

    <footer>© Design Hydraulics@2025 | All Rights Reserved</footer>
  </main>

  <!-- ===== FIND CYLINDER MODAL ===== -->
  <div id="findCylinderModal" class="overlay" style="display:none;">
    <div class="modal large">
      <h2>Find Cylinder Size</h2>

      <div class="grid-2">
        <div class="field">
          <label>Enter Weight</label>
          <input id="inputWeight" type="number" step="0.001" placeholder="Enter weight">
        </div>
        <div class="field">
          <label>Weight Unit</label>
          <select id="weightUnit">
            <option value="tonne">Tonne</option>
            <option value="kg">Kg</option>
          </select>
        </div>
      </div>

      <div class="grid-2">
        <div class="field">
          <label>Capacity</label>
          <input id="inputCapacity" type="number" step="0.001" placeholder="Enter capacity">
        </div>
        <div class="field">
          <label>Capacity Unit</label>
          <select id="capUnit">
            <option value="kN">kN</option>
            <option value="N">N</option>
          </select>
        </div>
      </div>

      <div class="grid-2">
        <div class="field">
          <label>No. of Cylinders</label>
          <input id="inputQty" type="number" min="1" value="1" placeholder="Enter number">
        </div>
        <div class="field">
          <label>All cylinders hold entered weight</label>
          <label class="switch">
            <input id="inputEqual" type="checkbox" checked>
            <span class="slider"></span>
          </label>
        </div>
      </div>

      <div class="grid-2">
        <div class="field">
          <label>Pressure (bar, optional)</label>
          <input id="inputPressure" type="number" step="0.1" placeholder="Enter pressure">
        </div>
        <div class="field">
          <label>ISO Bore Size</label>
          <select id="isoBore"></select>
        </div>
      </div>

      <div class="field">
        <label>Rod Type</label>
        <select id="rodType">
          <option value="light">Light — 30% of bore</option>
          <option value="standard" selected>Standard — 40% of bore</option>
          <option value="heavy">Heavy — 50% of bore</option>
        </select>
      </div>

      <div class="grid-2">
        <div class="field">
          <label>Rod ISO Recommendation</label>
          <select id="isoRod"></select>
        </div>
        <div class="field">
          <label>Rod Safety Stroke (mm)</label>
          <input id="rodSafetyStroke" type="number" step="0.1" placeholder="Enter stroke">
        </div>
      </div>

      <div class="grid-2">
        <div class="field">
          <label>End Condition</label>
          <select id="rodEndCondition">
            <option value="2.0">Fixed–Free</option>
            <option value="1.0" selected>Pinned–Pinned</option>
            <option value="0.7">Fixed–Pinned</option>
            <option value="0.5">Fixed–Fixed</option>
          </select>
        </div>
        <div class="field">
          <label>&nbsp;</label>
        </div>
      </div>

      <div class="field">
        <label>Rod Safety Status</label>
        <div id="rodSafetyStatus" class="safety-status">--</div>
      </div>

      <div class="results modal-results">
        <div class="res">
          <div class="label">Per-cylinder load</div>
          <div id="calcPerCyl" class="value output">-- kN</div>
        </div>
        <div class="res">
          <div class="label">Calculated bore</div>
          <div id="calcBore" class="value output">-- mm</div>
        </div>
        <div class="res">
          <div class="label">Calculated rod</div>
          <div id="calcRod" class="value output">-- mm</div>
        </div>
        <div class="res">
          <div class="label">Nearest ISO bore</div>
          <div id="calcIso" class="value output">--</div>
        </div>
      </div>

      <div class="modal-actions-row">
        <button id="applyFind" class="btn">Apply</button>
        <button id="resetFind" class="btn">Reset</button>
        <button id="closeFind" class="btn">Close</button>
      </div>
    </div>
  </div>

  <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
