
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Design Hydraulics @2025</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    header {
      background: #004080;
      color: white;
      padding: 10px;
      text-align: center;
      font-size: 1.5rem;
    }
    .container {
      flex: 1;
      max-width: 1200px;
      margin: 20px auto;
      background: white;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      border-radius: 10px;
    }
    .input-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 15px;
    }
    .input-group label {
      flex: 1 1 150px;
      min-width: 150px;
    }
    .input-group input, .input-group select {
      flex: 2 1 200px;
      padding: 8px;
    }
    .buttons {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      flex-wrap: wrap;
    }
    button {
      padding: 10px 15px;
      background: #004080;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background: #0066cc;
    }
    .results {
      margin-top: 20px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    .result-box {
      background: #e9f1ff;
      padding: 10px;
      border-radius: 5px;
    }
    .highlight {
      background: #ffe6b3;
      font-weight: bold;
    }
    footer {
      background: #004080;
      color: white;
      text-align: center;
      padding: 10px;
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      font-size: 0.9rem;
    }
    @media (max-width: 768px) {
      .results {
        grid-template-columns: 1fr;
      }
      .input-group {
        flex-direction: column;
      }
      .buttons {
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <header>Hydraulic Cylinder Calculator</header>
  <div class="container">
    <div class="input-group">
      <label for="bore">Bore Diameter (mm)</label>
      <input type="number" id="bore" placeholder="Enter bore dia">
    </div>
    <div class="input-group">
      <label for="rod">Rod Diameter (mm)</label>
      <input type="number" id="rod" placeholder="Enter rod dia">
    </div>
    <div class="input-group">
      <label for="stroke">Stroke (mm)</label>
      <input type="number" id="stroke" placeholder="Enter stroke">
    </div>
    <div class="input-group">
      <label for="pressure">Pressure (bar)</label>
      <input type="number" id="pressure" placeholder="Enter pressure">
    </div>
    <div class="input-group">
      <label for="time">Time (sec)</label>
      <input type="number" id="time" placeholder="Enter time">
    </div>
    <div class="input-group">
      <label for="cylinders">No. of Cylinders</label>
      <input type="number" id="cylinders" placeholder="Enter no. of cylinders" value="1">
    </div>
    <div class="buttons">
      <button onclick="resetAll()">Reset</button>
      <button onclick="exportToExcel()">Export to Excel</button>
    </div>
    <div class="results">
      <div class="result-box">
        <p>Bore Area: <span id="boreArea"></span> cm²</p>
        <p>Bore Flow (per cyl): <span id="boreFlow"></span> L/min</p>
        <p>Total Bore Flow: <span id="totalBoreFlow"></span> L/min</p>
        <p>Bore Power: <span id="borePower"></span> kW</p>
      </div>
      <div class="result-box">
        <p>Rod Area: <span id="rodArea"></span> cm²</p>
        <p>Rod Flow (per cyl): <span id="rodFlow"></span> L/min</p>
        <p>Total Rod Flow: <span id="totalRodFlow"></span> L/min</p>
        <p>Rod Power: <span id="rodPower"></span> kW</p>
      </div>
    </div>
  </div>
  <footer>© Design Hydraulics 2025</footer>

  <script>
    const inputs = document.querySelectorAll('input');
    inputs.forEach(input => input.addEventListener('input', calculate));

    function calculate() {
      const bore = parseFloat(document.getElementById('bore').value) || 0;
      const rod = parseFloat(document.getElementById('rod').value) || 0;
      const stroke = parseFloat(document.getElementById('stroke').value) || 0;
      const pressure = parseFloat(document.getElementById('pressure').value) || 0;
      const time = parseFloat(document.getElementById('time').value) || 0;
      const cylinders = parseInt(document.getElementById('cylinders').value) || 1;

      const boreArea = Math.PI * (Math.pow(bore/2, 2)) / 100; // cm²
      const rodArea = Math.PI * (Math.pow(bore/2, 2) - Math.pow(rod/2, 2)) / 100; // cm²

      const boreVol = boreArea * stroke; 
      const rodVol = rodArea * stroke;

      const boreFlow = time > 0 ? (boreVol / time) * 0.06 : 0; 
      const rodFlow = time > 0 ? (rodVol / time) * 0.06 : 0;

      const totalBoreFlow = boreFlow * cylinders;
      const totalRodFlow = rodFlow * cylinders;

      const borePower = (totalBoreFlow * pressure) / 600;
      const rodPower = (totalRodFlow * pressure) / 600;

      document.getElementById('boreArea').innerText = boreArea.toFixed(2);
      document.getElementById('rodArea').innerText = rodArea.toFixed(2);
      document.getElementById('boreFlow').innerText = boreFlow.toFixed(2);
      document.getElementById('rodFlow').innerText = rodFlow.toFixed(2);
      document.getElementById('totalBoreFlow').innerText = totalBoreFlow.toFixed(2);
      document.getElementById('totalRodFlow').innerText = totalRodFlow.toFixed(2);
      document.getElementById('borePower').innerText = borePower.toFixed(2);
      document.getElementById('rodPower').innerText = rodPower.toFixed(2);
    }

    function resetAll() {
      inputs.forEach(input => input.value = '');
      document.getElementById('cylinders').value = 1;
      document.querySelectorAll('span').forEach(span => span.innerText = '');
    }

    function exportToExcel() {
      const rows = [
        ["Parameter","Bore Side","Rod Side"],
        ["Area (cm²)", document.getElementById('boreArea').innerText, document.getElementById('rodArea').innerText],
        ["Flow per cyl (L/min)", document.getElementById('boreFlow').innerText, document.getElementById('rodFlow').innerText],
        ["Total Flow (L/min)", document.getElementById('totalBoreFlow').innerText, document.getElementById('totalRodFlow').innerText],
        ["Power (kW)", document.getElementById('borePower').innerText, document.getElementById('rodPower').innerText],
      ];
      let csvContent = "data:text/csv;charset=utf-8," 
        + rows.map(e => e.join(",")).join("\n");
      const encodedUri = encodeURI(csvContent);
      const link = document.createElement("a");
      link.setAttribute("href", encodedUri);
      link.setAttribute("download", "hydraulic_calculation.csv");
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }
  </script>
</body>
</html>
